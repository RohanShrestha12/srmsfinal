RewriteEngine On

# Remove .php extension from URLs
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^\.]+)$ $1.php [NC,L]

# Handle directory access
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_FILENAME}/index.php -f
RewriteRule ^(.+[^/])$ $1/ [R=301,L]

# Security: Prevent directory browsing
Options -Indexes

# Prevent access to sensitive files
<Files "*.sql">
    Require all denied
</Files>

<Files "*.log">
    Require all denied
</Files>

# Enable output buffering
php_flag output_buffering on 